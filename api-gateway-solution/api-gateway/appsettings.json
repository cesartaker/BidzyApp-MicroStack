{
    "Logging": {
        "LogLevel": {
            "Default": "Information",
            "Microsoft.AspNetCore": "Warning"
        }
    },
    "Authentication": {
        "Authority": "http://localhost:8080/realms/bidzy-app",
        "ClientId": "confidential-client",
        "ClientSecret": "YOUR_CONFIDENTIAL_CLIENT_SECRET",
        "ResponseType": "code",
        "MetadataAddress": "http://localhost:8080/realms/bidzy-app/.well-known/openid-configuration",
        "ValidIssuer": "http://localhost:8080/realms/bidzy-app",
        "Audiences": [
            "confidential-client",
            "account"
        ]

    },
    "AllowedHosts": "*",
    "ReverseProxy": {
        "Routes": {

            "Authentication": {
                "ClusterId": "AuthenticationCluster",
                "Match": {
                    "Path": "/auth",
                    "Methods": [ "POST" ]
                },
                "Transforms": [
                    {
                        "PathRemovePrefix": "/auth"
                    }
                ]
            },
            "CreateUser": {
                "ClusterId": "UsersCluster",
                "Match": {
                    "Path": "/api/users",
                    "Methods": [ "POST" ]
                }
            },
            "GetUser": {
                "ClusterId": "UsersCluster",
                "Match": {
                    "Path": "/api/users",
                    "Methods": [ "GET" ]
                },
                "AuthorizationPolicy": "ManageProfilePolicy"
            },
            "UpdateUser": {
                "ClusterId": "UsersCluster",
                "Match": {
                    "Path": "/api/users",
                    "Methods": [ "PATCH" ]
                },
                "AuthorizationPolicy": "ManageProfilePolicy"

            },
            "ResetPassword": {
                "ClusterId": "UsersCluster",
                "Match": {
                    "Path": "/api/users/reset-password",
                    "Methods": [ "PUT" ]
                }
            },
            "ChangePassword": {
                "ClusterId": "UsersCluster",
                "Match": {
                    "Path": "/api/users/change-password",
                    "Methods": [ "PUT" ]
                },
                "AuthorizationPolicy": "ManageProfilePolicy"
            },
            "GetUserHistory": {
                "ClusterId": "UsersCluster",
                "Match": {
                    "Path": "/api/users/history",
                    "Methods": [ "GET" ]
                },
                "AuthorizationPolicy": "ManageProfilePolicy"
            },
            "RegisterProduct": {
                "ClusterId": "ProductsCluster",
                "Match": {
                    "Path": "/api/products",
                    "Methods": [ "POST" ]
                },
                "AuthorizationPolicy": "ManageAuctionsPolicy"
            },
            "GetProducts": {
                "ClusterId": "ProductsCluster",
                "Match": {
                    "Path": "/api/products",
                    "Methods": [ "GET" ]
                },
                "AuthorizationPolicy": "ManageAuctionsPolicy"
            },
            "RegisterAuction": {
                "ClusterId": "AuctionsCluster",
                "Match": {
                    "Path": "/api/auctions",
                    "Methods": [ "POST" ]
                },
                "AuthorizationPolicy": "ManageAuctionsPolicy"
            },
            "GetMyAuctions": {
                "ClusterId": "AuctionsCluster",
                "Match": {
                    "Path": "/api/auctions/mine",
                    "Methods": [ "GET" ]
                },
                "AuthorizationPolicy": "ManageAuctionsPolicy"
            },
            "GetActiveAuctions": {
                "ClusterId": "AuctionsCluster",
                "Match": {
                    "Path": "/api/auctions/active",
                    "Methods": [ "GET" ]
                },
                "AuthorizationPolicy": "BidderPolicy"
            },
            "GetAuctionResults": {
                "ClusterId": "AuctionsCluster",
                "Match": {
                    "Path": "/api/auctions/results",
                    "Methods": [ "POST" ]
                },
                "AuthorizationPolicy": "BidderPolicy"
            },
            "GetPrizes": {
                "ClusterId": "AuctionsCluster",
                "Match": {
                    "Path": "/api/auctions/prizes",
                    "Methods": [ "GET" ]
                },
                "AuthorizationPolicy": "BidderPolicy"
            },
            "ClaimPrize": {
                "ClusterId": "AuctionsCluster",
                "Match": {
                    "Path": "/api/auctions/prizes/claim",
                    "Methods": [ "POST" ]
                },
                "AuthorizationPolicy": "BidderPolicy"
            },
            "ConfirmPrizeDelivery": {
                "ClusterId": "AuctionsCluster",
                "Match": {
                    "Path": "/api/auctions/prizes/claim/confirmation",
                    "Methods": [ "POST" ]
                },
                "AuthorizationPolicy": "BidderPolicy"
            },
            "BidsWebSocket": {
                "ClusterId": "BidsCluster",
                "Match": {
                    "Path": "/ws/bids"
                },
                "AuthorizationPolicy": "BidderPolicy"
            },
            "GetPendingPayments": {
                "ClusterId": "PaymentsCluster",
                "Match": {
                    "Path": "/api/payments/pending",
                    "Methods": [ "GET" ]
                },
                "AuthorizationPolicy": "BidderPolicy"
            },
            "SendPayment": {
                "ClusterId": "PaymentsCluster",
                "Match": {
                    "Path": "/api/payments/pay",
                    "Methods": [ "POST" ]
                },
                "AuthorizationPolicy": "BidderPolicy"
            },
            "GetPaymentMethods": {
                "ClusterId": "PaymentsCluster",
                "Match": {
                    "Path": "/api/payments/payment-methods",
                    "Methods": [ "GET" ]
                },
                "AuthorizationPolicy": "BidderPolicy"
            },
            "RegisterComplaint": {
                "ClusterId": "ComplaintsCluster",
                "Match": {
                    "Path": "/api/complaints",
                    "Methods": [ "POST" ]
                },
                "AuthorizationPolicy": "PlaceComplaintsPolicy"
            },
            "GetPedingComplaints": {
                "ClusterId": "ComplaintsCluster",
                "Match": {
                    "Path": "/api/complaints/pending",
                    "Methods": [ "GET" ]
                },
                "AuthorizationPolicy": "ManageComplaintsPolicy"
            },
            "SolvePendingCompaint": {
                "ClusterId": "ComplaintsCluster",
                "Match": {
                    "Path": "/api/complaints/solve",
                    "Methods": [ "POST" ]
                },
                "AuthorizationPolicy": "ManageComplaintsPolicy"
            },
            "GetMyComplaints": {
                "ClusterId": "ComplaintsCluster",
                "Match": {
                    "Path": "/api/complaints/mine",
                    "Methods": [ "GET" ]
                },
                "AuthorizationPolicy": "PlaceComplaintsPolicy"
            }
        },
        "Clusters": {
            "AuthenticationCluster": {
                "Destinations": {
                    "localhttps": { "Address": "http://localhost:8080/realms/bidzy-app/protocol/openid-connect/token" }
                }
            },
            "UsersCluster": {
                "Destinations": {
                    "localhttps": { "Address": "http://localhost:5101" }

                }
            },
            "ProductsCluster": {
                "Destinations": {
                    "localhttps": { "Address": "http://localhost:5201" }
                }
            },
            "AuctionsCluster": {
                "Destinations": {
                    "localhttps": { "Address": "http://localhost:5301" }
                }
            },
            "BidsCluster": {
                "Destinations": {
                    "localhttps": { "Address": "http://localhost:5401" }
                }
            },
            "PaymentsCluster": {
                "Destinations": {
                    "localhttps": { "Address": "http://localhost:5601" }
                }
            },
            "ComplaintsCluster": {
                "Destinations": {
                    "localhttps": { "Address": "http://localhost:5701" }
                }
            }
        }
    }
}
